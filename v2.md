# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–∏–∑–∞–π–Ω—É HTTP API —Å–µ—Ä–≤–∏—Å–æ–≤ v2

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã

* [RFC 9110: HTTP Semantics](https://www.rfc-editor.org/rfc/rfc9110.html) –∏ [RFC 9111: HTTP Caching](https://www.rfc-editor.org/rfc/rfc9111.html)
* [RFC 9457: Problem Details for HTTP APIs](https://www.rfc-editor.org/rfc/rfc9457.html)
* [RFC 6902: JSON Patch](https://www.rfc-editor.org/rfc/rfc6902) –∏ [RFC 7386: JSON Merge Patch](https://www.rfc-editor.org/rfc/rfc7386)
* [RFC 6648: Deprecating the "X-" Prefix](https://datatracker.ietf.org/doc/html/rfc6648)
* IETF drafts: [Idempotency‚ÄëKey header](https://datatracker.ietf.org/doc/draft-ietf-httpapi-idempotency-key-header/); RateLimit headers

## –†–µ—Å—É—Ä—Å—ã –∏ URL

* URL **–∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç** —Ä–µ—Å—É—Ä—Å. –ò–º–µ–Ω–∞ ‚Äì **—Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ –º–Ω. —á–∏—Å–ª–µ**: `/users`, `/articles`
* –î–ª—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ ¬´–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ¬ª —Ä–µ—Å—É—Ä—Å–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã —Ñ–æ—Ä–º—ã: `/profile`, `/basket`
* **–í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã** —Å—Ç–∞—Ä–∞–µ–º—Å—è –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ ‚Äì —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:
  * ‚úÖ `/products?category=food&category=health`
  * ‚õî `/category/food/products`
* –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≤—ã–±–æ—Ä–∫–∞ –ø–æ id: `GET /contents?id=1&id=2&id=3`

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞

* –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Üí 400 (Problem Details)
* –ò–º—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–æ –ø—Ä–∏ –æ–¥–∏–Ω–æ—á–Ω–æ–º –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏
* –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è: `__gt`, `__gte`, `__lt`, `__lte`

## –ú–µ—Ç–æ–¥—ã –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏

| **–ú–µ—Ç–æ–¥**    | **–ö–æ–ª–ª–µ–∫—Ü–∏—è** `**/resources**`              | **–≠–ª–µ–º–µ–Ω—Ç** `**/resources/{id}**`                                                                                              |
|--------------|---------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|
| **GET**      | –°–ø–∏—Å–æ–∫, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø–∞–≥–∏–Ω–∞—Ü–∏—è               | –ß—Ç–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞                                                                                                                 |
| **POST**     | –°–æ–∑–¥–∞–Ω–∏–µ                                    | –î–µ–π—Å—Ç–≤–∏—è/–ø–æ–¥—Ä–µ—Å—É—Ä—Å—ã, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è                                                                                            |
| **PUT**      | –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä. (—Ä–µ–¥–∫–æ), –ª–∏–±–æ –ø–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞  | **–ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞** —Ä–µ—Å—É—Ä—Å–∞ (idempotent)                                                                                         |
| **PATCH**    | ‚Äì                                           | **–ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** (JSON Patch `application/json-patch+json` **–∏–ª–∏** JSON Merge Patch `application/merge-patch+json`)    |
| **DELETE**   | –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (—Ä–µ–¥–∫–æ)                   | –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞ (idempotent)                                                                                                  |

### –î–µ–π—Å—Ç–≤–∏—è –Ω–∞–¥ —Ä–µ—Å—É—Ä—Å–∞–º–∏

* –ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏—Ä—É–µ–º **–∫–∞–∫ —Ä–µ—Å—É—Ä—Å—ã/—Å–æ—Å—Ç–æ—è–Ω–∏—è**. –ï—Å–ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ —É–º–µ—Å—Ç–Ω–æ ‚Äì –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–¥–ø—É—Ç—å `/actions`:
  * `POST /users/{id}/actions/deactivate`
* –î–µ–π—Å—Ç–≤–∏–µ **–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º** –∏–ª–∏ –∫–ª–∏–µ–Ω—Ç –ø—Ä–∏—Å—ã–ª–∞–µ—Ç `Idempotency-Key` (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –∫ –ø–æ–¥–¥–µ—Ä–∂–∫–µ) –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø–æ–≤—Ç–æ—Ä–æ–≤

## –ö–æ–Ω—Ç–µ–Ω—Ç

* –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç: `application/json; charset=utf-8`
* –ö–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å `Accept`. –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π —Ç–∏–ø –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω ‚Üí **406 Not Acceptable**
* –ù–∞ –≤—Ö–æ–¥ —Å–µ—Ä–≤–µ—Ä —Ç—Ä–µ–±—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π `Content-Type`; –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç ‚Üí **415 Unsupported Media Type**

## –ü–∞–≥–∏–Ω–∞—Ü–∏—è

* **–°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö API:** —Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏: `page` (>=1), `perPage` (`1..100`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `20`)

–û—Ç–≤–µ—Ç:

```json
{
    "totalCount": 13,
    "page": 1,
    "perPage": 20,
    "items": [...]
}
```

* **–î–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤** ‚Äì –∫—É—Ä—Å–æ—Ä–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è): `limit` (`1..100`), `after`/`before` (–∫—É—Ä—Å–æ—Ä),
  —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–ª—é—á—É

## –í—ã–±–æ—Ä –ø–æ–ª–µ–π –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö

üí° –ö–∞–∂–¥—ã–π –∏–∑ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ ‚Äì –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –¥–ª—è —É–¥–æ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API –∫–ª–∏–µ–Ω—Ç–∞–º–∏.

* –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  * `fields` ‚Äì whitelist –ø–æ–ª–µ–π ‚Üí –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è –º–æ–¥–µ–ª–∏
  * `omit` ‚Äì blacklist –ø–æ–ª–µ–π ‚Üí –æ–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–æ–ª—è –∏–∑ –º–æ–¥–µ–ª–∏
  * `expand` ‚Äì —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É: `expand=tags.category` ‚Üí –≤–µ—Ä–Ω—É—Ç—å –≤–º–µ—Å—Ç–æ ID –æ–±—ä–µ–∫—Ç —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞
* –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: `omit` > `fields` > `expand`

## –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏ —á–∏—Å–ª–∞

* –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –≤ JSON ‚Äì **—Å—Ç—Ä–æ–∫–∏** (–≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –ø–æ—Ç–µ—Ä—å —Ç–æ—á–Ω–æ—Å—Ç–∏ –≤ –∫–ª–∏–µ–Ω—Ç–∞—Ö)
* –î–µ–Ω–µ–∂–Ω—ã–µ —Å—É–º–º—ã: –ª–∏–±–æ **—Ü–µ–ª—ã–µ –≤ –º–∏–Ω–æ—Ä–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö** (—Ä–µ–∫–æ–º–µ–Ω–¥.), –ª–∏–±–æ **—Å—Ç—Ä–æ–∫–∏** —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é

## –î–∞—Ç—ã –∏ –≤—Ä–µ–º—è

* –§–æ—Ä–º–∞—Ç ‚Äì ISO‚Äë8601. –í –æ—Ç–≤–µ—Ç–∞—Ö **UTC –≤** `**Z**`: `YYYY-MM-DDThh:mm:ssZ`
* –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–¥–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è ‚Äì –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω—ã–π —Å–º–µ—â—ë–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `¬±hh:mm` –∏ —ç—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è

## –ö–æ–¥—ã —Å—Ç–∞—Ç—É—Å–æ–≤

| **–°—Ç–∞—Ç—É—Å** | **–ö–æ–¥**               | **–ü–æ—è—Å–Ω–µ–Ω–∏–µ**                                                   |
|------------|-----------------------|-----------------------------------------------------------------|
| 200        | OK                    | –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç                                                  |
| 201        | Created               | –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞; —É–∫–∞–∑—ã–≤–∞—Ç—å `Location` –Ω–∞ –Ω–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å          |
| 204        | No Content            | –î–µ–π—Å—Ç–≤–∏–µ –±–µ–∑ —Ç–µ–ª–∞ –æ—Ç–≤–µ—Ç–∞                                        |
| 400        | Bad Request           | –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è/—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –æ—à–∏–±–∫–∞                               |
| 401        | Unauthorized          | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç/–Ω–µ–≤–∞–ª–∏–¥–µ–Ω —Ç–æ–∫–µ–Ω. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** `WWW-Authenticate` |
| 403        | Forbidden             | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω, –Ω–æ –Ω–µ—Ç –ø—Ä–∞–≤                                   |
| 404        | Not Found             | –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω                                                |
| 405        | Method Not Allowed    | –ú–µ—Ç–æ–¥ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω; **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** `Allow` —Å–æ —Å–ø–∏—Å–∫–æ–º –º–µ—Ç–æ–¥–æ–≤  |
| 406        | Not Acceptable        | –¢–∏–ø –∏–∑ `Accept` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω                                    |
| 409        | Conflict              | –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥—É–±–ª–∏–∫–∞—Ç                          |
| 412        | Precondition Failed   | –ù–∞—Ä—É—à–µ–Ω—ã –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è (`If-Match`, `If-Unmodified-Since`)        |
| 413        | Content Too Large     | –ü—Ä–µ–≤—ã—à–µ–Ω —Ä–∞–∑–º–µ—Ä —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞                                    |
| 415        | Unsupported Media Type| –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π `Content-Type`/`Content-Encoding`              |
| 422        | Unprocessable Content | –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞, –±–∏–∑–Ω–µ—Å‚Äë–æ—à–∏–±–∫–∏ –≤–≤–æ–¥–∞                      |
| 428        | Precondition Required | –°–µ—Ä–≤–µ—Ä **—Ç—Ä–µ–±—É–µ—Ç** –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `If-Match`)           |
| 429        | Too Many Requests     | –ü—Ä–µ–≤—ã—à–µ–Ω rate limit; —É–∫–∞–∑—ã–≤–∞—Ç—å `Retry-After`                    |
| 451        | Unavailable For Legal | –ú–µ—Ç–æ–¥ –∏–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞/–ª–æ–∫–∞—Ü–∏–∏           |
| 500‚Äì504    |                       | –û—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞/—à–ª—é–∑–∞                                            |

## –û—à–∏–±–∫–∏: Problem Details (RFC 9457/7807)

* –§–æ—Ä–º–∞—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ: `application/problem+json`.
* –ë–∞–∑–æ–≤–∞—è —Å—Ö–µ–º–∞ –æ—Ç–≤–µ—Ç–∞:

```json
{
  "type": "https://api.example.com/problems/validation-error",
  "title": "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏",
  "status": 422,
  "detail": "–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—è –Ω–µ –ø—Ä–æ—à–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É",
  "instance": "/contents",
  "requestId": "c91a0f8e-5f1a-4d1f-9f4f-2f7a3a...",
  "errors": [
    {
      "title": "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ ‚Äì 2",
      "detail": "–ü–æ–ª–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ –º–µ–Ω–µ–µ 2 —Å–∏–º–≤–æ–ª–æ–≤",
      "pointer": "/body/key"
    },
    {
      "title": "–ù–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ",
      "detail": "–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞",
      "parameter": "sort"
    }
  ]
}
```

* –ü–æ–ª—è `errors[].pointer` ‚Äì JSON Pointer –¥–æ –ø–æ–ª—è —Ç–µ–ª–∞; `errors[].parameter` ‚Äì –∏–º—è query‚Äë–ø–∞—Ä–∞–º–µ—Ç—Ä–∞
* –î–ª—è 401 –¥–æ–±–∞–≤–ª—è–µ–º `WWW-Authenticate`
* –î–ª—è 405 ‚Äì `Allow`
* –î–ª—è 429 ‚Äì `Retry-After`

## –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API

* –ö–ª–∏–µ–Ω—Ç **—è–≤–Ω–æ** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–µ—Ä—Å–∏—é –≤ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
  **–ó–∞–≥–æ–ª–æ–≤–æ–∫:** `API-Version: YYYY-MM-DD`
* –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–ø–æ –ø—Ä–æ–µ–∫—Ç–Ω–æ–º—É —Ä–µ—à–µ–Ω–∏—é): —á–µ—Ä–µ–∑ `Accept`-—Ç–∏–ø, –Ω–∞–ø—Ä–∏–º–µ—Ä:
  `Accept: application/vnd.planfact.v2025-08-11+json`
* CHANGELOG —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ **–ª–æ–º–∞—é—â–∏–µ** –∏–∑–º–µ–Ω–µ–Ω–∏—è

## –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø

* –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã: `ETag` (—Å–∏–ª—å–Ω—ã–π/—Å–ª–∞–±—ã–π) –∏/–∏–ª–∏ `Last-Modified`
* –ö–ª–∏–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `If-None-Match`/`If-Modified-Since` –¥–ª—è GET; –æ—Ç–≤–µ—Ç **304 Not Modified**
* –î–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `If-Match` –ø—Ä–∏ `PUT`/`PATCH`/`DELETE`; –ø—Ä–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–∏ ‚Üí **412**
* **Vary** –ø—Ä–æ—Å—Ç–∞–≤–ª—è–µ–º **–º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π** (–æ–±—ã—á–Ω–æ `Accept`, –∏–Ω–æ–≥–¥–∞ `Accept-Language`, `Accept-Encoding`)
  –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ `Vary: Authorization, Cookie` ‚Äì —ç—Ç–æ —Ä–∞–∑–¥—É–≤–∞–µ—Ç –∫–ª—é—á–∏ –∫—ç—à–∞; –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –ø–æ–º–µ—á–∞–µ–º `Cache-Control: private`

## –°–∂–∞—Ç–∏–µ

* –°–µ—Ä–≤–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–º–ø—Ä–µ—Å—Å–∏—é –æ—Ç–≤–µ—Ç–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ `Accept-Encoding` (–æ–±—ã—á–Ω–æ `gzip`, `br`)
* –ï—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∂–∞—Ç–æ–µ —Ç–µ–ª–æ, –æ–Ω –æ–±—è–∑–∞–Ω —É–∫–∞–∑–∞—Ç—å `Content-Encoding`. –ü—Ä–∏ –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ ‚Üí **415**
  (–∏ –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å `Accept-Encoding` —Å–æ —Å–ø–∏—Å–∫–æ–º –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∫–æ–¥–∏—Ä–æ–≤–æ–∫).

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ä–µ–π—Ç-–ª–∏–º–∏—Ç)

* –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å–µ–º–µ–π—Å—Ç–≤–∞ **RateLimit** (IETF draft):
  * `RateLimit-Limit: 100`
  * `RateLimit-Remaining: 42`
  * `RateLimit-Reset: 1733923200` (unix ts, —Å–µ–∫—É–Ω–¥—ã)
* –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ ‚Üí **429** + `Retry-After` (—Å–µ–∫—É–Ω–¥—ã –∏–ª–∏ –¥–∞—Ç–∞ RFC‚Äë1123)

## CORS

* –†–∞–∑—Ä–µ—à–∞–µ–º –¥–æ–º–µ–Ω—ã –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤/–ø—Ä–æ–¥—É–∫—Ç–∞
* Preflight (OPTIONS) –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å: `Access-Control-Allow-Origin`, `Access-Control-Allow-Methods`,
  `Access-Control-Allow-Headers`, `Access-Control-Max-Age`, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ `Access-Control-Allow-Credentials`
* –ï—Å–ª–∏ `Allow-Credentials: true`, –∑–Ω–∞—á–µ–Ω–∏–µ `Allow-Origin` **–Ω–µ –º–æ–∂–µ—Ç** –±—ã—Ç—å `*`

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç

* –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã ‚Äì —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ HTTPS. –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã ‚Üí **403** —Å Problem Details.
* –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: `Authorization: Bearer <token>`
* –í –∫–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –≤–∫–ª—é—á–∞–µ–º `Request-Id` (–∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è –ª–æ–≥–æ–≤)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ—Ç–≤–µ—Ç–∞–º

* JSON ¬´pretty printed¬ª —Ç–æ–ª—å–∫–æ –≤ dev/staging (–≤ prod ‚Äì –∫–æ–º–ø–∞–∫—Ç–Ω–æ)
* –ü–æ–ª—è –∏ –∏—Ö —Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã; –Ω–æ–≤—ã–µ –ø–æ–ª—è ‚Äì –æ–±—Ä–∞—Ç–Ω–æ‚Äë—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

* –î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞: URI, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Å—Ö–µ–º–∞ –∑–∞–ø—Ä–æ—Å–∞/–æ—Ç–≤–µ—Ç–∞, –∫–æ–¥—ã —Å—Ç–∞—Ç—É—Å–æ–≤, –ø—Ä–∏–º–µ—Ä—ã –æ—à–∏–±–æ–∫ (Problem Details)
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –∂–∏–≤—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é OpenAPI (JSON/YAML) –∫–∞–∫ ¬´–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã¬ª
